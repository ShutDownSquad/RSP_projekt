<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Návrh UI pro přidávání článků do časopisu</title>
    <style>
      #btnZpet {
        position: relative;
        left: 64%;
      }
      #btnLogout {
        position: relative;
        top: 20px;
        height: 50px;
        width: 100px;
      }
      #loginSpan {
        position: relative;
        left: 28%;
      }
      #nazevHeader {
        position: relative;
        left: 15%;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <span>Znak VSPJ</span>
      <h1 id="nazevHeader">Školní časopis VŠPJ</h1>
      <span id="loginSpan">Jméno a role uživatele</span>
      <button
        id="btnLogout"
        onclick="window.location.href='uvodni-strana.html'"
      >
        odhlásit se
      </button>
    </header>

    <form id="articleForm" enctype="multipart/form-data">
      <div id="container">
        <h2>Úprava článku</h2>

        <!-- Kod k nahrazení: <input type="hidden" id="userRole" name="userRole" value="<?php echo $_SESSION['userRole']; ?>"> -->
        <input type="hidden" id="userRole" name="userRole" value="autor" />

        <label for="articleTitle">Název článku:</label>
        <input type="text" id="articleTitle" name="articleTitle" required />

        <label for="articleText">Komentář článku:</label>
        <textarea id="articleText" name="articleText" required></textarea>

        <label for="section">Sekce:</label>
        <select id="section" name="section" required>
          <option value="section1">Sekce 1</option>
          <option value="section2">Sekce 2</option>
          <option value="section3">Sekce 3</option>
        </select>

        <label for="tags">Tagy:</label>
        <input type="text" id="tags" name="tags" required />

        <button onclick="saveArticle()">Uložit</button>
        <button
          id="btnZpet"
          onclick="window.location.href='NavrhUI-PridaniClanku.html'"
        >
          zpět
        </button>
      </div>
    </form>

    <footer>&copy; 2023 Název | Kontaktní údaje</footer>

    <script>
      // Funkce pro kontrolu formuláře
      function checkForm() {
        // Získání formuláře podle ID
        var form = document.getElementById("articleForm");

        // Získání všech prvků formuláře
        var formElements = form.elements;

        // Přechod přes všechny prvky formuláře
        for (var i = 0; i < formElements.length; i++) {
          // Kontrola, zda je prvek vyplněn a má atribut "required"
          if (
            formElements[i].value === "" &&
            formElements[i].hasAttribute("required")
          ) {
            // Pokud je nějaký prvek nevyplněn, zabraň odeslání formuláře
            alert("Všechny prvky formuláře musí být vyplněny.");
            return false;
          }
        }

        // Pokud všechny prvky jsou vyplněny, formulář může být odeslán
        return true;
      }

      // Přidání události submit na formulář
      document
        .getElementById("articleForm")
        .addEventListener("submit", function (event) {
          // Zavolání funkce checkForm před odesláním formuláře
          if (!checkForm()) {
            // Zabraň odeslání formuláře, pokud něco není vyplněno
            event.preventDefault();
          }
        });
    </script>
  </body>
</html>
